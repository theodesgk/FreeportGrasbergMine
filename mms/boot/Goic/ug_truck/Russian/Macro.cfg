#!/psw/cpp
/*
 * * * * * * * * * * * * * * * * * * *
 *  DISPATCH Real-Time Firmware Module
 * Copyright (c) Modular Mining Systems, 1982-1995
 *               All Rights Reserved
 *  $RCSfile: Macro.cfg,v $
 * $Revision: 1.3 $
 *   $Author: olivas $
 *     $Date: 2016/02/19 19:54:12 $
 *    $State: Exp $
 *   Purpose: GOIC object configuration file.
 * * * * * * * * * * * * * * * * * * *
 */
/* this defines a macro that gets substituted into the Goic/English/Macro
     so that same code can be used in foreman and excav class equipment */
#define dEQREQ	SHOVEL-REQ
#include <Goic/Russian/Macro_cfg.cfg>
#include <Goic/Russian/Macro.cfg>
bufsize 2048
symbol	lastloc
symbol	temploc
macro   Init    Macro KSTATE:0
stack	8192

/* set statmenuupdt to 1 in order to avoid the update button in Status menu */
symbol statmenuupdt 0

/* Messages */
message	msg.notavail	Нет такой операции
/* End Messages */

symbol mnasnok n
symbol trkfull n

macro kpManAsn	eq? "$(mnasnok)" "n" notavail;ne? "$(mnasnok)" "n" doManAsn
macro notavail	Ok label:$(msg.notavail) post
macro doManAsn	req selfasn;args 2;ManAsn post

macro kpTrkFull eq? "$(trkfull)" "n" notavail;ne? "$(trkfull)" "n" doTrkFull
macro doTrkFull Ok label:'Загружен' action:'FULL None' post
#	define OBJECT Macro
#	include <Cfg/Options.cfg>

/* include any client overrides */
#include <Goic/truck/Russian/Client_Macro.cfg>
