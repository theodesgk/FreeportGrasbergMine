#!/psw/cpp

/* internal RPCs can have the same hex number */
#define INT_RPC 0xa000

symbol	NEWUI_HELPER	yes
message	nil

symbol	break
macro	ForDo	$3;ForNext $(+ $1 1) $2 "$3"
in	ForNext	INT_RPC	dds	eq? $1 $2 break 1;eq? $(break) 0 ForDo
in	For	INT_RPC	ds	break 0;ForNext 0 $1 $2

/* layers used for PostWindow */
#define	BASE_LAYER	0
#define	SCREEN_LAYER	1
#define	MENU_LAYER	2
#define	ERROR_LAYER	3
in	PostWindow	INT_RPC	s?d	WinMgr window:$1
in	UnpostWindow	INT_RPC	s	WinMgr window:w0

/* UI components */
symbol	lastPad
in	MessageBox	INT_RPC s?sss	Ok action:'' label:"$1" post
in	PostNumPad	INT_RPC ss?ds	lastPad Kp.D;kpaction '$2';Kp label:'$1' post
in	PostKeyPad	INT_RPC ss?ds	lastPad Kp2;kpaction '$2';Kp2 label:'$1' post
in	GetPadValue	INT_RPC ?s,s	return "$($(lastPad) label)"
in	postTrans	INT_RPC s	ne? "$1" "" postTrans1
macro	postTrans1	w0.Text write:"$1\n"
in	UpdateStatBar	INT_RPC ss	UpdateStatBar1
macro	UpdateStatBar1	eq? APP truck UpdateStatBarTrk;eq? APP excav UpdateStatBarEx
macro	UpdateStatBarTrk	eq? "$1" "Data" w0.v3 label:$2
macro	UpdateStatBarEx	eq? "$1" "Data" w0.v4 label:$2
symbol	expTime
in      HandleExpTime   INT_RPC d       expTime $1

/* Misc */
macro	commsClose	timeoutOk
symbol        doCommCheck     1

/* include newui common language messages */
#define LANG_FILE	<10inch/common/LANGUAGE/Macro.cfg>
#include LANG_FILE
