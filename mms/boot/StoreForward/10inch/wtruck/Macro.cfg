symbol sfsync	    1
symbol oper_logoff  0
macro SF.kstate_extra	do_nothing 1
symbol do_nothing
macro	Handleks3arg6	last_stat $(curr_stat);last_rsn $(curr_rcode)
macro   checkRpc  eq? $(rpcReq) DELAY   doSFLogic;\
                  eq? $(rpcReq) DOWN    doSFLogic;\
                  eq? $(rpcReq) READY   doSFLogic;\
                  eq? $(rpcReq) STANDBY doSFLogic;\
                  eq? $(rpcReq) LOGON   doSFLogic;\
                  eq? $(rpcReq) ARRIVE  doSFLogic;\
                  eq? $(rpcReq) ASSIGN  doSFLogic;\
                  eq? $(rpcReq) PRESTART doSFLogic;\
                  eq? $(rpcReq) EQ-REQ eq? $(req) LocStat doSFLogic;\
		  eq? $(rpcReq) EQ-REQ eq? $(req) gpstagact doSFLogic;\
                  eq? $(rpcReq) EQ-REQ eq? $(req) sf-sync needSfSync y;\
                  ne? $(rpcReq) RFID-ARRIVE ne? $(rpcReq) RFID-DEPART ne? $(rpcReq) GPS-ARRIVE ne? $(rpcReq) GPS-DEPART ne? $(rpcReq) EQ-REQ ne? $(rpcReq) DELAY ne? $(rpcReq) DOWN ne? $(rpcReq) READY ne? $(rpcReq) STANDBY ne? $(rpcReq) ASSIGN ne? $(rpcReq) ARRIVE ne? $(rpcReq) LOGON ne? $(rpcReq) PRESTART ne? $(rpcReq) EQ-REQ ne? $(rpcReq) KBEEP MessageBox "$(NoCommActLbl)" "$(CommsErrorLbl)";\
                  eq? $(rpcReq) EQ-REQ ne? $(req) sf-sync ne? $(req) psitemcomment ne? $(req) LocStat ne? $(req) gpstagact MessageBox "$(NoCommActLbl)" "$(CommsErrorLbl)";
macro   doSFLogic needSfSync y;\
                  eq? $(rpcReq) DELAY   dodelay;\
                  eq? $(rpcReq) DOWN    dodown;\
                  eq? $(rpcReq) READY   doready;\
                  eq? $(rpcReq) STANDBY dospare;\
                  eq? $(rpcReq) LOGON   dologon;\
                  eq? $(rpcReq) ARRIVE  doauxprodarrive;\
                  eq? $(rpcReq) ASSIGN  doauxprodassign;\
                  eq? $(rpcReq) PRESTART doprestart;\
                  eq? $(rpcReq) EQ-REQ eq? $(req) psitemcomment sflocstat;\
                  eq? $(rpcReq) EQ-REQ eq? $(req) gpstagact sfgpsact;
macro  sfgpsact   eq? $(reqact) 1 dodown;\
		  eq? $(reqact) 2 doready;\
		  eq? $(reqact) 3 dospare;\
		  eq? $(reqact) 4 dodelay;\
                  eq? $(reqact) 5 doauxprodassign;\
                  eq? $(reqact) 6 doauxprodarrive;
macro  dodelay    last_stat 4;last_rsn $(sfarg1);KSTATE 4 "$(stat4)" "$(NEXT_ACT2_MSG)"  "" "" "" "";NoCommKS3
macro  doready    last_stat 2;last_rsn $(sfarg1);KSTATE 2 "$(stat2)" "" "" "" "" "";NoCommKS3
macro  dodown	last_stat 1;last_rsn $(sfarg1);eq? $(SF_DWN_LOGOFF) y curr_oper "";\
		eq? $(SF_DWN_LOGOFF) y oper_logoff 1;\
		eq? $(SF_DWN_LOGOFF) y KSTATE 0 "$(stat1)" "$(NEXT_ACT8_MSG)" "" "" "" "";\
		ne? $(SF_DWN_LOGOFF) y KSTATE 1 "$(stat1)" "$(NEXT_ACT2_MSG)"  "" "" "" "";\
		NoCommKS3
macro  dospare	last_stat 3;last_rsn $(sfarg1);eq? $(SF_SPR_LOGOFF) y curr_oper "";\
		eq? $(SF_SPR_LOGOFF) y oper_logoff 1;\
		eq? $(SF_SPR_LOGOFF) y KSTATE 0 "$(stat3)" "$(NEXT_ACT8_MSG)" "" "" "" "";\
		ne? $(SF_SPR_LOGOFF) y KSTATE 3 "$(stat3)" "$(NEXT_ACT2_MSG)"  "" "" "" "";\
		NoCommKS3
macro  dologon    curr_oper $(sfarg1);sf_operid $(sfarg1);eq? $(sfarg1) -1 curr_oper "";\
                  ne? $(sfarg1) -1 KSTATE $(last_stat) "$(stat$(last_stat))" "$(NEXT_ACT2_MSG)" "" "" "";\
                  eq? $(sfarg1) -1 KSTATE 0 "$(stat$(last_stat))" "$(NEXT_ACT8_MSG)" "" "" "" "";\
				  eq? $(sfarg1) -1 oper_logoff 1;ne? $(sfarg1) -1 oper_logoff 0;\
                  NoCommKS3
macro  doActArrive   ARRIVE $(last_beacon)
macro  doauxprodarrive KSTATE2 7 "$(PerformWork)" "$(NextLbl) $(Travel)" "" "" "" "";NoCommKS3
macro  doauxprodassign KSTATE2 6 "$(Travelling)" "$(NextLbl) $(DoWork)" "" "" "" "";NoCommKS3

/* These macros are used in StoreForward/10inch/Macro.cfg to set and display dump count */
/* These doe not apply to wtruck                                                        */

macro HandleKsArg3 do_nothing
macro HandleKsArg4 do_nothing
macro HandleKsArg6 do_nothing
macro UpdateBeans  do_nothing
macro setbeans     do_nothing
