#!/psw/cpp
#include <Version.h>
#ifndef UP
#	define UP Slip
#endif
up	UP
connected y
module	ObjSh
module	Pulse
module	File
module	Can
object	ObjSh base:Test prompt:\'Hub II Test, vVERSION> \'
object	Adc
object	Rp
object	Can name:CanA port:cana id:1
object	Can name:CanB port:canb id:2
object	Slip port:scc1a name:Gsp speed:4800
/* object	Slip port:scc1b name:Gps speed:4800 */
object	Pulse name:Pc0 counter:0
object	Pulse name:Pc1 counter:1
object	File path:y
#if #loc(Sk8) || #loc(Dsm) || #loc(Tsip) 
        module GpsTsip
        object GpsTsip name:Gps port:scc1b speed:9600 flags:0xc8 hdwe:rs232
#elif #loc(Moto) || #loc(Motorola) 
        module GpsMoto
        object GpsMoto name:Gps port:scc1b speed:9600 flags:0x8
#elif #loc(GG24) || #loc(Ashtech)
        module GpsGG24
        object GpsGG24 name:Gps port:scc1b speed:9600 flags:0x8
#endif
#ifdef LOC
        module GpsTruck
        object BeaconDB base:Gps
        object GpsTruck base:Gps
#endif
mode	hub
#if ! #option(Ate)
ssn	""
#endif
/*
 * Don't test the memory for final test to speed up the test.
 */
#if !#option(Final) && !#option(Ate)
	rom	x
	ram	x
	flash	x
	e2rom	x
#endif
/*
 * Don't perform the following tests since the Ate equipment
 * takes over from here....
 */
#if !#option(Ate)
	e2pot	x
	adc	x
	chan	x
	pio	x
	pulse	0
	pulse	1
	ping	Gsp:rs232
	ping	Gsp:rs485
	ping	CanA.2
	ping	CanB.1
#endif
/*
 * Use spray instead of ping for Rma and Ate tests, since we don't
 * have a remote router to talk to.
 */
#if #option(Rma)
	spray	Rp
#elif !#option(Ate)
	ping	Rp
#endif
done	x
