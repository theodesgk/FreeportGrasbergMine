%!/psw/cpp
/*
 * * * * * * * * * * * * * * * * * * *
 *  DISPATCH Real-Time Firmware Module
 * Copyright (c) Modular Mining Systems, 1982-1995
 *               All Rights Reserved
 *  $RCSfile: Main.cfg,v $
 * $Revision: 1.5 $
 *   $Author: olson $
 *     $Date: 2003/03/29 05:54:12 $
 *    $State: Exp $
 *   Purpose: Main configuration file for MP Router.
 * * * * * * * * * * * * * * * * * * *
 */
#include <Version.h>
#include <Main/UpPort.h>
version	MP Router, vVERSION
#define PROMPT \'MP Router, vVERSION (%s)> \'
#include <Main/ObjSh.h>
#include <Main/Adc.h>
/*
 * It's important to configure the Router object before OMS so that
 * OMS.cfg can reference the interfaces instantiated by Router.
 */
module	Router
object	Router path:y
#include <Main/OMS.h>
module	Macro
object	Macro path:y
/*
 * Instantiate an A/D converter for Masterlink repeater hubs to measure battery
 * voltage.
 * 
 * Note that PrismDiags.C looks specifically for a `vin' object.
 */
#if #arch(mlink) && #arch(r2r)
	object Pio type:8591 name:vin
#endif
#define OBJECT Main
#include <Cfg/Options.cfg>
#if #arch(hubcan) || #arch(mlink) || #arch(angus)
#	include <Spooler/Main.cfg>
#endif
