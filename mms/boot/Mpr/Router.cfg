%!/psw/cpp
#ifdef ARG1
	mode	ARG1
#else
	mode	router
#endif
#ifdef BROADCAST
	broadcast BROADCAST
#endif
#if defined(GATEWAY) && #up(Ether)
	gateway	GATEWAY
#endif
#if #net1(Ethernet)
	module	MOD1
	object	Ethernet name:eth0
	downlink eth0
#elif #net1(Prism)
#	if #up(Prism)
#		define PRISMPORT wan1
#	else
#		define PRISMPORT wan0
		module	MOD1
#	endif
	object	PrismNet name:PRISMPORT
#	if !#arg1(proxy)
		downlink PRISMPORT
#	endif	
#else
	module	MOD1
	object	NET1
#	if !#arg1(proxy)
		downlink NET1
#	endif	
#endif
#ifdef MOD2
	module	MOD2
#	if #net2(Ethernet)
		object	Ethernet name:eth0
		downlink eth0
#	elif #net2(Prism)
		object	PrismNet name:wan0
#		if !#arg1(proxy)
			downlink wan0
#		endif
#	else
		object	NET2
#		if !#arg1(proxy)
			downlink NET2
#		endif
#	endif
#endif
#if !#up(Slip) && !#mod1(Slip) && !#mod2(Slip)
	module	Slip
	object	Slip
#endif
#ifdef RESVIPS
	resvIPs	RESVIPS
#else
	resvIPs	16
#endif
