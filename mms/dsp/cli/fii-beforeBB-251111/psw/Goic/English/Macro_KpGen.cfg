
symbol	kptype
symbol	curr_btn
symbol	Kpshift_on	0
symbol	Kpcaplock_on	0
symbol	Kpuse_upper	0
symbol	Kp2shift_on	0
symbol	Kp2caplock_on	0
symbol	Kp2use_upper	0
symbol	Kp3shift_on	0
symbol	Kp3caplock_on	0
symbol	Kp3use_upper	0
symbol	Kptoggle_type	
symbol	Kp2toggle_type	
symbol	Kp3toggle_type	

macro	btnact		eq? "$(kptype)" "Kp" Kpbtnact;eq? "$(kptype)" "Kp2" Kp2btnact;eq? "$(kptype)" "Kp3" Kp3btnact
macro	Kpbtnact	eq? $($(kptype)use_upper) 1 Kp.D append:$(Kpb$(curr_btn)U);eq? $($(kptype)use_upper) 0 Kp.D append:$(Kpb$(curr_btn))
macro	Kp2btnact	eq? $($(kptype)use_upper) 1 Kp2.Disp append:$(Kp2b$(curr_btn)U);eq? $($(kptype)use_upper) 0 Kp2.Disp append:$(Kp2b$(curr_btn));ShiftKeyOff
macro	Kp3btnact	eq? $($(kptype)use_upper) 1 Kp3.Disp append:$(Kp3b$(curr_btn)U);eq? $($(kptype)use_upper) 0 Kp3.Disp append:$(Kp3b$(curr_btn));ShiftKeyOff

macro   ResetString     VarStringAdd 0;WinMgr after:1:'eq? "$(kptype)" "Kp" Kp.D label:"";eq? "$(kptype)" "Kp2" Kp2.Disp label:""'

macro	ShiftKeyOff	$(kptype)shift_on 0;eq? $($(kptype)caplock_on) 1 $(kptype)use_upper 1;eq? $($(kptype)caplock_on) 0 $(kptype)use_upper 0;$(kptype).Shift colors:default
macro	ShiftKeyOn	$(kptype)shift_on 1;eq? $($(kptype)caplock_on) 1 $(kptype)use_upper 0;eq? $($(kptype)caplock_on) 0 $(kptype)use_upper 1;$(kptype).Shift colors:Pass
macro	ToggleShiftKey	eq? $($(kptype)shift_on) 1 $(kptype)toggle_type Off;eq? $($(kptype)shift_on) 0 $(kptype)toggle_type On;ShiftKey$($(kptype)toggle_type)
macro	CapLockOff	$(kptype)caplock_on 0;eq? $($(kptype)shift_on) 1 $(kptype)use_upper 1;eq? $($(kptype)shift_on) 0 $(kptype)use_upper 0;$(kptype).CapLck colors:default
macro	CapLockOn	$(kptype)caplock_on 1;eq? $($(kptype)shift_on) 1 $(kptype)use_upper 0;eq? $($(kptype)shift_on) 0 $(kptype)use_upper 1;$(kptype).CapLck colors:Pass
macro	ToggleCapLock	eq? $($(kptype)caplock_on) 1 $(kptype)toggle_type Off;eq? $($(kptype)caplock_on) 0 $(kptype)toggle_type On;CapLock$($(kptype)toggle_type)
